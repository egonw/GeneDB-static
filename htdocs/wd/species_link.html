<template id='species-link-template'>
<span>
	<span v-if='loading'></span>
	<span v-else-if='error_message!=""'>
		<i>{{error_message}}</i>
	</span>
	<span v-else>
		<router-link :to='"/species/"+species_name'>
			{{species_name}}
		</router-link>
	</span>
</span>
</template>

<script>
'use strict';

Vue.component ( 'species-link' , {
	template : '#species-link-template' ,
	props : [ 'q' ] ,
	data : function () { return { loading:true , error_message:'', species_name:'' } } ,
	created : function () {} ,
	mounted : function () {
		let me = this ;
		wd.getItemBatch ( [me.q] , function () {
			let i = wd.getItem ( me.q ) ;
			if ( typeof i == 'undefined' ) {
				me.error_message = "Unknown species " + q ; // Fallback
				me.loading = false ;
				return ;
			}
			me.species_name = i.getLabel('en') ;
			me.loading = false ;
		} ) ;
	} ,
	updated : function () {} ,
	methods : {	
	}
} ) ;
